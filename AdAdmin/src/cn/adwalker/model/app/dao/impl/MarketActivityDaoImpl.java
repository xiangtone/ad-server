package cn.adwalker.model.app.dao.impl;import java.text.SimpleDateFormat;import java.util.List;import org.springframework.jdbc.core.BeanPropertyRowMapper;import org.springframework.stereotype.Repository;import cn.adwalker.model.app.dao.IMarketActivityDao;import cn.adwalker.model.app.domain.MarketActivity;import cn.adwalker.ad.admin.app.form.MarketAvtivityForm;import cn.adwalker.core.repository.impl.BaseDaoImpl;/** * <p> * Title: MarketActivityDaoImpl * </p> * <p> * Description:市场活动dao实现类 * </p> * <p> * Company: adwalker * </p> *  * @author lichuang * @date 2013-6-18 */@Repository("marketActivityDao")public class MarketActivityDaoImpl extends BaseDaoImpl<MarketActivity> implements IMarketActivityDao {	/**	 * (non-Javadoc)	 * <p>	 * Title: findMarketActivityById	 * </p>	 * 	 * @param id	 * @return	 * @see cn.adwalker.model.app.dao.IMarketActivityDao#findMarketActivityById(java.lang.Long)	 */	@Override	public MarketActivity findMarketActivityById(Long id) {		String sql = "select * from T_MEDIA_ACTIVITY where id=?";		MarketActivity vo = null;		List<MarketActivity> objects = jdbcTemplate.query(sql, new BeanPropertyRowMapper<MarketActivity>(MarketActivity.class), id);		if (objects != null && objects.size() > 0) {			vo = objects.get(0);		}		return vo;	}	/**	 * (non-Javadoc)	 * <p>	 * Title: updatadwalkerketActivity	 * </p>	 * 	 * @param form	 * @see cn.adwalker.model.app.dao.IMarketActivityDao#updatadwalkerketActivity(cn.adwalker.admin.app.bean.MarketAvtivityBean)	 */	@Override	public void updatadwalkerketActivity(MarketAvtivityForm form) {		String sql = "update T_MEDIA_ACTIVITY set NAME=?,BUDGET=?,CONTENT=?,ACITVITY_TIME=DATE_FORMAT(?,'%Y-%m-%d'),AWARD=?,SUMMARY=? where id=" + form.getId();		jdbcTemplate.update(sql.toString(), new Object[] { form.getName(), form.getBudget(), form.getMarketContent(), form.getAcitvity_time(), form.getAward(), form.getSummary() });	}	/**	 * (non-Javadoc)	 * <p>	 * Title: addMarketActivity	 * </p>	 * 	 * @param form	 * @see cn.adwalker.model.app.dao.IMarketActivityDao#addMarketActivity(cn.adwalker.ad.admin.app.form.MarketAvtivityForm)	 */	@Override	public void addMarketActivity(MarketAvtivityForm form) {		SimpleDateFormat dateFormat = new SimpleDateFormat("yyyy-MM-dd");		StringBuffer sql = new StringBuffer();		sql.append(" insert into T_MEDIA_ACTIVITY(");		sql.append("NAME,");		sql.append("BUDGET,");		sql.append("CONTENT,");		sql.append("CREATE_TIME,");		sql.append("ACITVITY_TIME,");		sql.append("AWARD,");		sql.append("SUMMARY)");		sql.append(" values (?,?,?,?,?,?,?)");		jdbcTemplate.update(sql.toString(), form.getName(), form.getBudget(), form.getMarketContent(), dateFormat.format(form.getCreate_time()), form.getAcitvity_time(), form.getAward(), form.getSummary());	}}